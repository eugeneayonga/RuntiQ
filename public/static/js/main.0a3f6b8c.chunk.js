(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{25:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(17),s=n.n(c),i=n(6),o=(n(25),n(3)),j=n(0);var l=function(e){var t=e.setUser,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),u=l[0],b=l[1],d=Object(a.useState)([]),h=Object(o.a)(d,2),O=h[0],p=h[1],x=O.map((function(e){return Object(j.jsx)("p",{className:"errors",children:e})}));return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:u})}).then((function(e){return e.json()})).then((function(e){e.error?(console.log("is this working "),console.log(e.error),p(e.error),s(""),b("")):t(e)}))},children:[Object(j.jsx)("h3",{children:"Login"}),Object(j.jsx)("input",{type:"text",name:"username",value:c,placeholder:"Username",onChange:function(e){return s(e.target.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"password",name:"password",value:u,placeholder:"Password",onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("br",{}),x,Object(j.jsx)("button",{type:"submit",children:"Log In"})]})})};var u=function(e){var t=e.setUser,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),u=l[0],b=l[1],d=Object(a.useState)(""),h=Object(o.a)(d,2),O=h[0],p=h[1],x=Object(a.useState)([]),f=Object(o.a)(x,2),m=f[0],v=f[1],g=m.map((function(e){return Object(j.jsx)("p",{className:"errors",children:e})}));return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(e){console.log("SUBMIT"),e.preventDefault(),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:u,password_confirmation:O})}).then((function(e){return e.json()})).then((function(e){e.errors?(v(e.errors),s(""),b(""),p("")):t(e)}))},children:[Object(j.jsx)("h3",{children:"Sign Up"}),Object(j.jsx)("input",{type:"text",name:"username",value:c,placeholder:"Username",onChange:function(e){return s(e.target.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"password",name:"password",value:u,placeholder:"Password",onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"password",name:"password",value:O,placeholder:"Password Confirmation",onChange:function(e){return p(e.target.value)}}),Object(j.jsx)("br",{}),g,Object(j.jsx)("button",{type:"submit",children:"Sign Up"})]})})},b=n(16),d=n(2);var h=function(e){var t=e.logout,n=Object(d.e)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"navbar",children:[Object(j.jsx)("button",{onClick:function(){fetch("/api/logout",{method:"DELETE"}).then((function(){t(),n.push("/")}))},children:"Logout"}),Object(j.jsx)(i.b,{to:"/Home",children:Object(j.jsx)("button",{className:"button",children:"Home"})}),Object(j.jsx)(i.b,{to:"/AddRun",children:Object(j.jsx)("button",{className:"button",children:"Add A Run"})}),Object(j.jsx)(i.b,{to:"/FindData",children:Object(j.jsx)("button",{className:"button",children:"Find Data"})})]})})},O=n(10),p=n(15);var x=function(e){var t=e.addRuns,n=Object(a.useState)({date:"",distance:0,total_time:0,calories:0,average_heartrate:0,average_pace:0,fastest_split:0}),r=Object(o.a)(n,2),c=r[0],s=r[1],i=function(e){var t=e.target.name,n=e.target.value;s(Object(p.a)(Object(p.a)({},c),{},Object(O.a)({},t,n)))};return Object(j.jsxs)("div",{className:"runForm",children:[Object(j.jsx)("h1",{children:"Add your run data here:"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={date:c.date,distance:c.distance,total_time:c.total_time,calories:c.calories,average_heartrate:c.average_heartrate,average_pace:c.average_pace,fastest_split:c.fastest_split};fetch("/api/runs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then(t),s({date:"",distance:0,total_time:0,calories:0,average_heartrate:0,average_pace:0,fastest_split:0})},className:"addRunForm",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("label",{htmlFor:"date",children:"Run date: "}),Object(j.jsx)("input",{type:"date",name:"date",placeholder:"date",value:c.date,required:!0,onChange:i})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsx)("label",{htmlFor:"distance",children:"Distance, enter format 0.00 : "}),Object(j.jsx)("input",{type:"float",name:"distance",value:c.distance,onChange:i})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsxs)("label",{htmlFor:"time",children:["Total run time, enter amount of minutes and seconds (ie. 80.05):"," "]}),Object(j.jsx)("input",{type:"float",name:"total_time",value:c.total_time,onChange:i})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsx)("label",{htmlFor:"calories",children:"Run calories burned: "}),Object(j.jsx)("input",{type:"number",placeholder:"Calories",name:"calories",value:c.calories,onChange:i})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsxs)("label",{htmlFor:"average_heartrate",children:["Average heart rate, enter in whole numbers:"," "]}),Object(j.jsx)("input",{type:"number",placeholder:"Average Heartrate",name:"average_heartrate",value:c.average_heartrate,onChange:i})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsxs)("label",{htmlFor:"average_pace",children:["Average pace, enter in format minutes.seconds:"," "]}),Object(j.jsx)("input",{type:"float",placeholder:"Average Pace",name:"average_pace",value:c.average_pace,onChange:i})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsxs)("label",{htmlFor:"fastest_split",children:["Fastest split, enter in format minutes.seconds:"," "]}),Object(j.jsx)("input",{type:"float",placeholder:"Fastest Split",name:"fastest_split",value:c.fastest_split,onChange:i})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]}),Object(j.jsx)("h5",{children:'To see a list of your run data click on the "Find Data" tab above.'})]})};var f=function(e){var t=e.setSortBy;return Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Sort by:"}),Object(j.jsx)("br",{}),Object(j.jsxs)("select",{onChange:function(e){return t(e.target.value)},children:[Object(j.jsx)("option",{value:"distance",children:"Distance"}),Object(j.jsx)("option",{value:"fastest_split",children:"Fastest Split"}),Object(j.jsx)("option",{value:"total_time",children:"Total Time"}),Object(j.jsx)("option",{value:"average_pace",children:"Average Pace"})]}),Object(j.jsx)("br",{})]})};var m=function(e){var t=e.handleDeleteRun,n=e.run;return Object(j.jsxs)("button",{className:"deleteRunButton",onClick:function(){fetch("/api/runs/".concat(n.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}),t(n.id)},children:["\u2716"," "]})},v=n(20),g=n.n(v);var y=function(e){var t=e.run,n=e.handleDeleteRun,a=e.handleFavoriteRun;return Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Average Pace"}),Object(j.jsx)("th",{children:"Calories burned"}),Object(j.jsx)("th",{children:"Total distance"}),Object(j.jsx)("th",{children:"Fastest split"}),Object(j.jsx)("th",{children:"total time"}),Object(j.jsx)("th",{children:"Average heart rate"}),Object(j.jsx)("th",{children:"Favorite"}),Object(j.jsx)("th",{children:"Delete Run"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:g()(t.date).format("MM/DD/YYYY")}),Object(j.jsx)("td",{children:t.average_pace}),Object(j.jsx)("td",{children:t.calories}),Object(j.jsx)("td",{children:t.distance}),Object(j.jsx)("td",{children:t.fastest_split}),Object(j.jsx)("td",{children:t.total_time}),Object(j.jsx)("td",{children:t.average_heartrate}),Object(j.jsx)("td",{onClick:function(){fetch("/api/runs/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({favorite:!t.favorite})}).then((function(e){return e.json()})).then((function(e){return a(e)}))},children:t.favorite?"\u2b50":"\u2606 "}),Object(j.jsx)(m,{handleDeleteRun:n,run:t})]})]})};var _=function(e){var t=e.runs,n=(e.sortRuns,e.sortBy),a=e.setSortBy,r=e.handleDeleteRun,c=e.handleFavoriteRun,s=t.map((function(e){return Object(j.jsx)(y,{run:e,handleDeleteRun:r,handleFavoriteRun:c},e.id)}));return Object(j.jsxs)("div",{children:[Object(j.jsx)(f,{sortBy:n,setSortBy:a}),Object(j.jsx)("h1",{children:"Run Data"}),Object(j.jsx)("p",{children:"All data types are sorted by the lowest number first, including distance and total time."}),Object(j.jsx)("table",{children:s})]})};var S=function(e){var t=e.user,n=e.fastestMile;return Object(j.jsxs)("div",{className:"homePage",children:[Object(j.jsxs)("h1",{children:["Hello ",t.username.charAt(0).toUpperCase()+t.username.slice(1),"!"]}),n===1/0?Object(j.jsx)("h4",{children:"Enter run data to find your fastest mile."}):Object(j.jsxs)("h4",{children:["Your fastest mile so far: ",n," minutes."]}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Welcome to the run-data-tracker app. You can enter the data you would like to keep track of, then sort based on what you would like to find."})})]})};var C=function(e){var t=e.user,n=e.logout,r=Object(a.useState)([]),c=Object(o.a)(r,2),s=c[0],i=c[1],l=Object(a.useState)("fastest_split"),u=Object(o.a)(l,2),O=u[0],p=u[1];Object(a.useEffect)((function(){fetch("/api/runs").then((function(e){return e.json()})).then((function(e){i(e)}))}),[]),Object(a.useEffect)((function(){var e=Object(b.a)(s).sort((function(e,t){return e[O]>t[O]?1:e[O]<t[O]?-1:0}));i(e)}),[O]);var f=Math.min.apply(Math,null===s||void 0===s?void 0:s.map((function(e){return e.fastest_split})));return Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{logout:n}),Object(j.jsx)(d.a,{path:"/Home",children:Object(j.jsx)(S,{user:t,runs:s,fastestMile:f})}),Object(j.jsx)(d.a,{path:"/AddRun",children:Object(j.jsx)(x,{addRuns:function(e){var t=[].concat(Object(b.a)(s),[e]);i(t)}})}),Object(j.jsx)(d.a,{path:"/FindData",children:Object(j.jsx)(_,{runs:s,sortBy:O,setSortBy:p,handleDeleteRun:function(e){var t=s.filter((function(t){return t.id!==e}));i(t)},handleFavoriteRun:function(e){var t=s.map((function(t){return t.id===e.id?e:t}));i(t)}})})]})};n(36);var F=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=(s[0],s[1]),b=Object(a.useState)([]),d=Object(o.a)(b,2),h=(d[0],d[1]);return Object(a.useEffect)((function(){fetch("/api/me").then((function(e){e.ok?(e.json().then((function(e){return r(e)})),i(!0)):e.json().then((function(e){return h(e.errors)}))}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:n?Object(j.jsx)(C,{user:n,logout:function(){r(null),i(!1)}}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Run Data Tracker"}),Object(j.jsx)("h4",{children:"Welcome! You can use this app to track your run progress. Enter data for each workout you do, then find your results!"}),Object(j.jsx)(l,{setUser:r}),Object(j.jsx)(u,{setUser:r})]})}),Object(j.jsx)("hr",{}),Object(j.jsxs)("footer",{children:[Object(j.jsx)("h6",{children:"Questions about the app: "}),Object(j.jsx)("a",{className:"bloglinks",target:"_blank",rel:"noreferrer",href:"mailto:pfohman.sarah@gmail.com",children:"Email: Sarah Pfohman"}),Object(j.jsx)("br",{}),Object(j.jsx)("h6",{children:"To check out the source code or see any of my other projects: "}),Object(j.jsx)("a",{className:"bloglinks",target:"_blank",rel:"noreferrer",href:"https://github.com/spfohman",children:"Github"}),Object(j.jsx)("br",{}),Object(j.jsx)("h6",{children:"Connect: "}),Object(j.jsx)("a",{className:"bloglinks",target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/in/sarah-pfohman-998a8246/",children:"Linkedin"})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(F,{})})}),document.getElementById("root")),k()}},[[37,1,2]]]);
//# sourceMappingURL=main.0a3f6b8c.chunk.js.map